<!-- Controllers && Services -->
<script src="../dist/js/services/databaseService.js"></script>
<script src="../dist/js/controllers/databaseCtrl.js"></script>
<script src="../dist/js/services/networkService.js"></script>

<div class="alert alert-success alert-dismissible" role="alert" id="admin-updateDB-success">
    <span id="admin-updateDB-success-text"></span>
</div>

<div class="alert alert-danger alert-dismissible" role="alert" id="admin-updateDB-error">
    <span id="admin-updateDB-error-text"></span>
</div>

<div class="row">
    <div class="col-lg-12">
        <h2 class="page-header">Actualización de los espacios</h2>
    </div>
</div>
<div class="row" id="admin-updateDB-explanation">
    <div class="col-lg-8">
        <p>Pulsando el botón disponible en esta página, los datos de la base de datos de la aplicación móvil serán actualizados con los datos más recientes de los diferentes espacios de la Universidad de Zaragoza. Dichos datos habrán sido actualizados por personal de la UTC y residen en otra base de datos.</p>
        <p>Una vez finalizado el proceso, se informará de si el mismo ha sido exitoso o se ha producido algún error durante el proceso</p>
        <br>
        <p><b>NOTA IMPORTANTE: </b> El proceso de actualización de los datos de los espacios es muy delicado. Por favor, si tras la actualización la aplicación móvil comienza a mal funcionar, o el proceso de actualización devuelve un error, contacte inmediatamente con el equipo de sistemas para restaurar los datos anteriores.</p>
    </div>
    <br>
</div>
<div class="row">
    <div class="col-lg-12">
        <div>
            <br><p><b>Seleccione las tablas que desea actualizar o no seleccione ninguna si desea actualizar todas</b></p>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div id="database-tables"></div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div>
            <button id="update-db-btn" type="button" class="btn btn-success">ACTUALIZAR ESPACIOS</button><br><br>
        </div>
    </div>
</div>

<div class="modal fade" id="updateDB-confirm-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span></button>
        <h4 class="modal-title" id="myModalLabel">¡Aviso!</h4>
      </div>
      <div class="modal-body">
        <p>
            <p><b>¿Está seguro de realizar una actualización de los datos de los espacios?</b></p>
            <p>Este proceso puede llevar unos minutos.
            <br>Por favor, no cierre el navegador ni recargue la página durante el mismo.</p>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-success" id="update-db-ok-btn">Actualizar</button>
      </div>
    </div>
  </div>
</div>
